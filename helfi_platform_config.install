<?php

/**
 * @file
 * Contains installation hooks for HELfi platform config module.
 */

/**
 * UHF-9113: Remove obsolete hotjar permission.
 */
function helfi_platform_config_update_9301(): void {
  helfi_platform_config_remove_permissions_from_all_roles([
    'administer hotjar settings',
  ]);
}

/**
 * Config_filter becodes obsolete after config_ignore 3.x upgrade.
 */
function helfi_platform_config_update_9302(): void {
  $module_handler = \Drupal::moduleHandler();
  $module_installer = \Drupal::service('module_installer');

  if ($module_handler->moduleExists('config_filter')) {
    $module_installer->uninstall(['config_filter']);
  }
}
