<?php

/**
 * Install helfi_global_announcements if announcements and external entities are enabled.
 */
function helfi_platform_config_update_9001() : void {
  if (
    Drupal::moduleHandler()->moduleExists('external_entities') &&
    Drupal::moduleHandler()->moduleExists('helfi_node_announcement')
  ) {
    Drupal::service('module_installer')->install([
      'helfi_global_announcement',
    ]);
  }
}
