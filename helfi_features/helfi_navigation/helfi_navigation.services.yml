services:
  helfi_navigation.schema_storage:
    class: \JsonSchema\SchemaStorage
  logger.channel.helfi_navigation:
    parent: logger.channel_base
    arguments: ['helfi_navigation']
  helfi_navigation.external_menu_tree_factory:
    class: \Drupal\helfi_navigation\ExternalMenuTreeFactory
    arguments: ['@helfi_navigation.schema_storage', '@logger.channel.helfi_navigation', '@helfi_api_base.internal_domain_resolver', '@helfi_api_base.environment_resolver', '@helfi_navigation.global_navigation_service', '@uuid' ]
  helfi_navigation.global_navigation_service:
    class: \Drupal\helfi_navigation\Service\GlobalNavigationService
    arguments: ['@cache.default', '@http_client', '@helfi_api_base.environment_resolver', '@language_manager', '@logger.channel.helfi_navigation', '@request_stack']
  helfi_navigation.menu_updater:
    class: \Drupal\helfi_navigation\MenuUpdater
    arguments: ['@config.factory', '@helfi_navigation.global_navigation_service', '@language_manager', '@helfi_api_base.menu_tree_builder_service']

