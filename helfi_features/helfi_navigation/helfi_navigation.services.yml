services:
  logger.channel.helfi_navigation:
    parent: logger.channel_base
    arguments: ['helfi_navigation']
  helfi_navigation.external_menu_tree_factory:
    class: \Drupal\helfi_navigation\ExternalMenuTreeFactory
    arguments: ['@logger.channel.helfi_navigation', '@helfi_api_base.internal_domain_resolver', '@request_stack', '@helfi_navigation.api_manager', '@uuid', '@menu.active_trail', '@menu.link_tree']
  helfi_navigation.api_manager:
    class: \Drupal\helfi_navigation\ApiManager
    arguments: ['@http_client', '@helfi_api_base.environment_resolver', '@logger.channel.helfi_navigation']
  helfi_navigation.menu_updater:
    class: \Drupal\helfi_navigation\MenuUpdater
    arguments: ['@config.factory', '@helfi_navigation.api_manager', '@helfi_navigation.menu_tree_builder_service']
  helfi_navigation.menu_tree_builder_service:
    class: \Drupal\helfi_navigation\Menu\MenuTreeBuilder
    arguments: ['@entity_type.manager', '@helfi_api_base.internal_domain_resolver', '@menu.link_tree']
