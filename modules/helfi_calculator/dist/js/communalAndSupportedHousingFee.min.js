(()=>{var e=Object.defineProperty;var a=(a,t)=>e(a,"name",{value:t,configurable:true});function t(e,a,t){return{form_id:e,has_required_fields:true,items:[{input_integer:{id:"household_size",label:a("household_size"),unit:a("unit_person"),min:1,max:6,size:2,required:true,helper_text:a("household_size_explanation")}},{input_float:{id:"gross_income_per_month",label:a("gross_income_per_month"),unit:a("unit_euro"),min:0,size:8,required:false,strip:"[€eE ]",helper_text:a("gross_income_per_month_explanation")}},{input_integer:{id:"monthly_usage",label:a("monthly_usage"),unit:a("unit_hour"),min:0,max:744,size:3,required:true,helper_text:a("monthly_usage_explanation")}},{heading:{text:a("supporting_services_heading"),level:3}},{paragraph:{text:a("supporting_services_paragraph")}},{heading:{text:a("safety_phone_and_bracelet_heading"),level:4}},{paragraph:{text:a("safety_phone_and_bracelet_paragraph")}},{radio:{id:"safety_phone_and_bracelet",label:a("label_safety_phone_and_bracelet"),required:true,radio_items:[{name:"safety_phone_and_bracelet",item_id:"safety_phone_and_bracelet_true",label:a("label_safety_phone_and_bracelet_true"),value:true},{name:"safety_phone_and_bracelet",item_id:"safety_phone_and_bracelet_false",label:a("label_safety_phone_and_bracelet_false"),value:false}]}},{group:{id:"safetyphone_group",hide_group:true,items:[{paragraph:{text:a("helper_safety_phone_and_bracelet",{price_per_visit_low_income:t.safety_phone_and_bracelet_true.price_per_visit_low_income,price_per_visit_high_income:t.safety_phone_and_bracelet_true.price_per_visit_high_income,max_price_per_month_low_income:t.safety_phone_and_bracelet_true.max_price_per_month_low_income,max_price_per_month_high_income:t.safety_phone_and_bracelet_true.max_price_per_month_high_income}),class:"hdbt-helper-text"}}]}},{heading:{text:a("grocery_delivery_service_heading"),level:4}},{paragraph:{text:a("grocery_delivery_service_paragraph")}},{radio:{id:"grocery_delivery_service",label:a("label_grocery_delivery_service"),helper_text:a("helper_grocery_delivery_service",{per_delivery:t.grocery_delivery_service.price_per_delivery}),required:true,radio_items:[{name:"grocery_delivery_service",item_id:"grocery_delivery_service_true",label:a("label_grocery_delivery_service_true"),value:true},{name:"grocery_delivery_service",item_id:"grocery_delivery_service_false",label:a("label_grocery_delivery_service_false"),value:false}]}},{heading:{text:a("meal_service_heading"),level:4}},{paragraph:{text:a("meal_service_paragraph")}},{radio:{id:"meal_service",label:a("label_meal_service"),helper_text:a("helper_meal_service",{full_service_price:t.meal_service_true_full_service,partial_service_price:t.meal_service_true_partial_service}),required:true,radio_items:[{name:"meal_service",item_id:"meal_service_true_full_service",label:a("label_meal_service_true_full_service"),value:"full_service"},{name:"meal_service",item_id:"meal_service_true_partial_service",label:a("label_meal_service_true_partial_service"),value:"partial_service"},{name:"meal_service",item_id:"meal_service_false",label:a("label_meal_service_false"),value:false}]}}]}}a(t,"getFormData");var i={getFormData:t};var r={household_size:{fi:"Talouden koko",sv:"Hushållets storlek",en:"Household size"},household_size_explanation:{fi:"Samassa osoitteessa asuvien perheenjäsenten määrä.",sv:"Antal familjemedlemmar som bor på samma adress.",en:"The number of family members living at the same address."},gross_income_per_month:{fi:"Talouden bruttotulot kuukaudessa",sv:"Hushållets bruttoinkomster per månad",en:"Household's gross income per month"},gross_income_per_month_explanation:{fi:"Koko talouden yhteenlasketut ansio- ja pääomatulot ennen verojen vähentämistä. Tuloihin lasketaan palkka, eläke-, vuokra- ja korkotulot sekä eläkkeensaajan hoitotuki. Jos jätät kentän tyhjäksi, lasketaan arvio korkeimman maksun mukaisesti.",sv:"Hela hushållets sammanlagda förvärvs- och kapitalinkomster före skatteavdrag. I inkomsterna ingår lön, pensions-, hyres och ränteinkomster samt vårdbidrag för pensionstagare. Om du lämnar fältet tomt beräknas bedömningen enligt den högsta avgiften.",en:"The entire household's combined income from earnings and capital income before taxes. Income includes salary, wages, pension, rental and interest income as well as care allowance for pensioners. If you leave the field blank, the estimate will be calculated using the highest fee."},monthly_usage:{fi:"Palvelun tuntimäärä kuukaudessa",sv:"Antal servicetimmar per månad",en:"Number of service hours per month"},monthly_usage_explanation:{fi:"Löydät tuntimäärän sinulle tehdystä palvelupäätöksestä.",sv:"Du hittar ett antal timmar i servicebeslutet som fattats för dig.",en:"You can find the number of service hours in the service decision made for you."},supporting_services_heading:{fi:"Kotona asumista tukevat palvelut",sv:"Tjänster som stöder hemmaboende",en:"Services to support living at home"},supporting_services_paragraph:{fi:"Voit laskea mukaan kotona asumista tukevia palveluja. Tukipalvelut ovat maksullisia.",sv:"Du kan inkludera tjänster som stöder hemmaboende. Stödtjänsterna är avgiftsbelagda.",en:"You can include services supporting living at home. The support services are subject to a fee."},safety_phone_and_bracelet_heading:{fi:"Hälytyskutsupalvelu",sv:"Alarmtjänst",en:"Alarm call service"},safety_phone_and_bracelet_paragraph:{fi:"Hälytyskutsupalvelun kautta saat tarvittaessa apua ympäri vuorokauden. Palvelu sisältää hälytyskutsun, turvarannekkeen ja tarvittaessa ovihälyttimen. Palvelun maksut riippuvat talouden tuloista.",sv:"Med alarmtjänsten kan du få hjälp dygnet runt vid behov. Tjänsten inkluderar larmanrop, säkerhetsarmband och, om nödvändigt, ett dörrlarm. Avgifterna för tjänsten beror på hushållets inkomster.",en:"Through the alarm call service, you can get help around the clock if necessary. The service includes an alarm call, a security bracelet and, if necessary, a door alarm. The charges for the service depend on the income of your household."},label_safety_phone_and_bracelet:{fi:"Laske arvioon hälytyskutsupalvelu",sv:"Inkludera alarmtjänst i bedömningen",en:"Include the alarm call service in the estimate"},helper_safety_phone_and_bracelet:{fi:"Huomiothan, että turvapalveluiden hälytyskäynti maksaa ${price_per_visit_low_income} € tai ${price_per_visit_high_income} € kerta tulorajoistasi riippuen. Kuukausittain laskutamme enintään 5 hälytyskäyntiä eli tulorajoistasi riippuen enintään ${max_price_per_month_low_income} € tai ${max_price_per_month_high_income} € kuukaudessa.",sv:"Observera, att ett larmbesök från trygghetstjänsten kostar ${price_per_visit_low_income} € eller ${price_per_visit_high_income} € per gång, beroende på dina inkomstgränser. Vi fakturerar högst 5 larmbesök per månad. Det vill säga, beroende på dina inkomstgränser, max ${max_price_per_month_low_income} € eller ${max_price_per_month_high_income} € per månad.",en:"Please note that an emergency visit from the safety services costs EUR ${price_per_visit_low_income} or EUR ${price_per_visit_high_income} per visit, depending on your income limits. Each month, you will be billed for a maximum of five emergency visits, totalling no more than EUR ${max_price_per_month_low_income} or EUR ${max_price_per_month_high_income}, depending on your income limits."},label_safety_phone_and_bracelet_false:{fi:"Ei",sv:"Nej",en:"No"},label_safety_phone_and_bracelet_true:{fi:"Kyllä, laske arvioon.",sv:"Ja, inkludera i bedömningen.",en:"Yes, include them in the estimate."},grocery_delivery_service_heading:{fi:"Kauppapalvelu",sv:"Butiksservice",en:"Grocery delivery service"},grocery_delivery_service_paragraph:{fi:"Kauppapalvelussa tilaamasi ruokaostokset toimitetaan kotiovellesi. Tämän laskurin kauppapalvelun hintaan kuuluu yksi ruokaostosten keräily ja toimitus viikossa. Kauppapalvelua voit tilata halutessasi useammankin kerran viikossa.",sv:"Butiksservicen levererar de livsmedelsinköp som du beställer till din dörr. I denna räknare för butiksservicen ingår priset för samling och leverans av livsmedelsinköp en gång i veckan. Om du vill kan du beställa butiksservicen mer än en gång i veckan.",en:"The grocery delivery service delivers the groceries that you order through the service to your door. In this fee calculator, the price of the grocery delivery service includes the collection and delivery of the groceries once a week. You can order grocery delivery services more than once a week."},label_grocery_delivery_service:{fi:"Laske arvioon kauppapalvelu",sv:"Inkludera butiksservicen i bedömningen",en:"Include the grocery delivery service in the estimate"},helper_grocery_delivery_service:{fi:"Yksi toimitus viikossa maksaa ${per_delivery} euroa.",sv:"En leverans per vecka kostar ${per_delivery} euro.",en:"One delivery per week costs ${per_delivery} euros."},label_grocery_delivery_service_false:{fi:"Ei",sv:"Nej",en:"No"},label_grocery_delivery_service_true:{fi:"Kyllä, laske arvioon.",sv:"Ja, inkludera i bedömningen.",en:"Yes, include them in the estimate."},meal_service_heading:{fi:"Ateriapalvelu",sv:"Måltidstjänst",en:"Meal service"},meal_service_paragraph:{fi:"Ateriapalvelusta sinulta peritään ateriamaksu joko täysihoidosta (aamupala, lounas, välipala, päivällinen, iltapala) tai puolihoidosta (puolet päivän aterioista; esim. aamupala, lounas ja välipala).",sv:"För måltidsservicen debiteras du en avgift för antingen helpension (frukost, lunch, mellanmål, middag, kvällsmål) eller halvpension (hälften av dagens måltider; t.ex. frukost, lunch och mellanmål).",en:"In the meal service, you will be charged a meal fee either for full-board (breakfast, lunch, afternoon snack, dinner, evening snack) or for half-board (half of the daily meals, i.e. breakfast, lunch and afternoon snack)."},label_meal_service:{fi:"Laske arvioon ateriapalvelu",sv:"Inkludera måltidstjänsten i bedömningen",en:"Include the meal service in the estimate"},helper_meal_service:{fi:"Puolihoito maksaa kuussa ${partial_service_price} euroa. Täysihoito maksaa kuussa ${full_service_price} euroa.",sv:"Halvpension kostar ${partial_service_price} € per månad. Helpension kostar ${full_service_price} € per månad.",en:"Half-board costs ${partial_service_price} euros per month. Full-board costs ${full_service_price} euros per month."},label_meal_service_true_full_service:{fi:"Kyllä, laske arvioon täysihoito.",sv:"Ja, inkludera helpension i bedömningen",en:"Yes, include the full-board meal service in the estimate."},label_meal_service_true_partial_service:{fi:"Kyllä, laske arvioon puolihoito.",sv:"Ja, inkludera halvpension i bedömningen",en:"Yes, include the half-board meal service in the estimate."},label_meal_service_false:{fi:"Ei",sv:"Nej",en:"No"},receipt_estimate_of_payment:{fi:"Arvio yhteisöllisen ja tuetun asumisen asiakasmaksusta",sv:"Bedömning av klientavgiften för gemenskapligt boende och stödboende",en:"Estimated communal and supported housing client fee"},receipt_estimated_payment_prefix:{fi:"Arvioitu asiakasmaksu on yhteensä",sv:"Den beräknade klientavgiften är totalt",en:"The total estimated client fee is"},receipt_estimated_payment_suffix:{fi:"euroa kuukaudessa.",sv:"euro per månad.",en:"euros per month."},receipt_estimated_payment_explanation:{fi:"Tämä arvio on suuntaa antava. Tarkka arvo lasketaan yhteisöllisen ja tuetun asumisen asiakasmaksupäätökseen. Tämä arvio ei ole viranomaisen tekemä virallinen asiakasmaksupäätös.",sv:"Denna bedömning är riktgivande. Det exakta värdet räknas för klientavgiftsbeslutet om gemenskapligt boende och stödboende. Denna uppskattning är inte myndighetens officiella klientavgiftsbeslut.",en:"This estimate is indicative only. The exact value will be calculated for the communal and supported housing client fee decision. This estimate is not an official client fee decision made by an authority."},receipt_estimate_of_payment_breakdown_title:{fi:"Arvio muodostuu seuraavista tiedoista:",sv:"Bedömningen görs enligt följande uppgifter:",en:"The estimate consists of the following:"},communal_and_supported_housing_payment:{fi:"Yhteisöllisen ja tuetun asumisen asiakasmaksu",sv:"Klientavgift för gemenskapligt boende och stödboende",en:"Client fee for communal and supported housing"},communal_and_supported_housing_payment_per_month:{fi:"Yhteisöllisen ja tuetun asumisen asiakasmaksu on",sv:"Klientavgiften för gemenskapligt boende och stödboende är",en:"The client fee for communal and supported housing is"},receipt_subtotal_euros_per_month:{fi:"${value} €/kk",sv:"${value} euro/månad",en:"${value} €/month"},safety_phone_and_bracelet_payment:{fi:"Hälytyskutsupalvelu",sv:"Alarmtjänst",en:"Alarm call service"},no_safety_phone_and_bracelet_payment:{fi:"Ei hälytyskutsupalvelua",sv:"Inga alarmtjänster",en:"No alarm call service"},grocery_delivery_service_payment:{fi:"Kauppapalvelu",sv:"Butiksservice",en:"Grocery delivery service"},no_grocery_delivery_service_payment:{fi:"Ei kauppapalvelua",sv:"Inga butiksservice",en:"No grocery delivery service"},no_meal_service_payment:{fi:"Ei ateriapalvelua",sv:"Inga måltidstjänster",en:"No meal service"},meal_service_payment:{fi:"Ateriapalvelu",sv:"Måltidstjänst",en:"Meal service"},grocery_delivery_service_payment_additional_details_text_1:{fi:"1 kauppatoimitus viikossa, kuukausihintaan on laskettu 4 toimitusta.",sv:"1 butiksleverans per vecka, 4 leveranser ingår i månadspriset.",en:"1 grocery delivery per week; the monthly fee includes 4 deliveries."},grocery_delivery_service_payment_additional_details_text_2:{fi:"Kunkin viikon toimitus maksaa ${per_delivery} euroa.",sv:"Leveransen varje vecka kostar ${per_delivery} euro.",en:"The delivery each week costs ${per_delivery} euros."}};var s=r;var l=class e{constructor(e,t){this.id=e;const r=JSON.parse(t);const l=a(()=>i.getFormData(this.id,this.t,r),"getFormData");const n=a(()=>{const e=[{field:"safety_phone_and_bracelet",group:"safetyphone_group"}];e.forEach(({field:e,group:a})=>{if(this.calculator.getFieldValue(e)==="true"){this.calculator.showGroup(a)}else{this.calculator.hideGroup(a)}})},"update");const o=a(()=>{const e=[];e.push(...this.calculator.validateBasics("household_size"));e.push(...this.calculator.validateBasics("gross_income_per_month"));e.push(...this.calculator.validateBasics("monthly_usage"));e.push(...this.calculator.validateBasics("safety_phone_and_bracelet"));e.push(...this.calculator.validateBasics("grocery_delivery_service"));e.push(...this.calculator.validateBasics("meal_service"));if(e.length){return{error:{title:this.t("missing_input"),message:e}}}const t=Number(this.calculator.getFieldValue("household_size"));const i=Number(this.calculator.getFieldValue("gross_income_per_month"));const s=this.calculator.getFieldValue("gross_income_per_month");const l=Number(this.calculator.getFieldValue("monthly_usage"));const n=this.calculator.getFieldValue("safety_phone_and_bracelet");const o=this.calculator.getFieldValue("grocery_delivery_service");const _=this.calculator.getFieldValue("meal_service");const u=r.income_limit[t];const{max:c,percent:m}=this.calculator.getMinimumRange(l,r.monthly_usage);const p=m[t];let h=c;if(s!==null){h=(i-u)*(p/100)}h=this.calculator.clamp(0,Math.round(h*100)/100,c);const v=[];let d=h;const f=a(e=>{if(typeof e==="string"){return parseFloat(e.replace(",","."))}return e},"transformToFloat");if(h>=0){v.push({title:this.t("communal_and_supported_housing_payment"),has_details:false,details:[],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(h)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatEuroCents(h)})})}if(n==="true"){let e=0;if(t===1){if(i<=r.safety_phone_and_bracelet_true.single_income_limit){e=f(r.safety_phone_and_bracelet_true.single_low_income)}else{e=f(r.safety_phone_and_bracelet_true.single_high_income)}}else{if(i<=r.safety_phone_and_bracelet_true.couple_income_limit){e=f(r.safety_phone_and_bracelet_true.couple_low_income)}else{e=f(r.safety_phone_and_bracelet_true.couple_high_income)}}d+=e;v.push({title:this.t("safety_phone_and_bracelet_payment"),has_details:true,details:[this.t("helper_safety_phone_and_bracelet",{price_per_visit_low_income:r.safety_phone_and_bracelet_true.price_per_visit_low_income,price_per_visit_high_income:r.safety_phone_and_bracelet_true.price_per_visit_high_income,max_price_per_month_low_income:r.safety_phone_and_bracelet_true.max_price_per_month_low_income,max_price_per_month_high_income:r.safety_phone_and_bracelet_true.max_price_per_month_high_income})],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(e)})})}else{v.push({title:this.t("no_safety_phone_and_bracelet_payment"),has_details:false})}if(o==="true"){const e=f(r.grocery_delivery_service.price_per_month);d+=e;v.push({title:this.t("grocery_delivery_service_payment"),has_details:true,details:[this.t("grocery_delivery_service_payment_additional_details_text_1"),this.t("grocery_delivery_service_payment_additional_details_text_2",{per_delivery:r.grocery_delivery_service.price_per_delivery})],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(e)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatEuroCents(e)})})}else{v.push({title:this.t("no_grocery_delivery_service_payment"),has_details:false})}if(_!=="false"){let e=0;if(_==="full_service"){e=f(r.meal_service_true_full_service)}else if(_==="partial_service"){e=f(r.meal_service_true_partial_service)}d+=e;v.push({title:this.t("meal_service_payment"),has_details:false,details:[],sum:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatFinnishEuroCents(e)}),sum_screenreader:this.t("receipt_subtotal_euros_per_month",{value:this.calculator.formatEuroCents(e)})})}else{v.push({title:this.t("no_meal_service_payment"),has_details:false})}const y={id:this.id,title:this.t("receipt_estimate_of_payment"),total_prefix:this.t("receipt_estimated_payment_prefix"),total_value:this.calculator.formatFinnishEuroCents(d),total_suffix:this.t("receipt_estimated_payment_suffix"),total_explanation:this.t("receipt_estimated_payment_explanation"),hr:true,breakdown:[{title:this.t("receipt_estimate_of_payment_breakdown_title"),subtotals:v}]};const g=this.calculator.getPartialRender("{{>receipt}}",y);return{receipt:g,ariaLive:this.t("receipt_aria_live",{totalPayment:d})}},"validate");const _={submit:a(e=>{this.calculator.clearResult();e.preventDefault();const a=o();this.calculator.renderResult(a)},"submit"),keydown:a(()=>{n()},"keydown"),change:a(()=>{n()},"change"),reset:a(()=>{window.setTimeout(n,1);this.calculator.clearResult();this.calculator.showAriaLiveText(this.t("reset_aria_live"))},"reset")};this.calculator=window.helfiCalculator({name:"communalAndSupportedHousingFee",translations:s});this.t=(e,a)=>this.calculator.translate(e,a);this.settings=this.calculator.parseSettings(t);this.calculator.init({id:e,formData:l(),eventHandlers:_})}};a(l,"CommunalAndSupportedHousingFee");var n=l;window.helfiCalculator=window.helfiCalculator||{};window.helfiCalculator.communal_and_supported_housing_fee=(e,a)=>new n(e,a)})();