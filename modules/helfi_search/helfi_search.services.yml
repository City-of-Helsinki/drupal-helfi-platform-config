services:
  _defaults:
    autowire: true
    autoconfigure: true

  logger.channel.helfi_search:
    parent: logger.channel_base
    arguments: ['helfi_search']

  Drupal\helfi_search\TokenUsageTracker: ~

  Drupal\helfi_search\EmbeddingsModelInterface:
    class: Drupal\helfi_search\OpenAI\EmbeddingsApi

  Drupal\helfi_search\Pipeline\HtmlExtractor: ~
  Drupal\helfi_search\Pipeline\HtmlCleaner: ~
  Drupal\helfi_search\Pipeline\MarkdownConverter: ~
  Drupal\helfi_search\Pipeline\TextNormalizer: ~
  Drupal\helfi_search\Pipeline\ContentChunker: ~
  Drupal\helfi_search\Pipeline\MetadataComposer: ~
  Drupal\helfi_search\Pipeline\TextPipeline: ~

  Drupal\helfi_search\EventSubscriber\SearchApiSubscriber: ~
