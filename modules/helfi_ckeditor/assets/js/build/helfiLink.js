!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.CKEditor5=t():(e.CKEditor5=e.CKEditor5||{},e.CKEditor5.helfiLink=t())}(self,(()=>(()=>{var e={"ckeditor5/src/core.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/core.js")},"ckeditor5/src/typing.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/typing.js")},"ckeditor5/src/ui.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/ui.js")},"ckeditor5/src/utils.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/utils.js")},"ckeditor5/src/widget.js":(e,t,i)=>{e.exports=i("dll-reference CKEditor5.dll")("./src/widget.js")},"dll-reference CKEditor5.dll":e=>{"use strict";e.exports=CKEditor5.dll}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var l=t[n]={exports:{}};return e[n](l,l.exports,i),l.exports}i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t);var n={};return(()=>{"use strict";i.d(n,{default:()=>w});var e=i("ckeditor5/src/core.js"),t=i("ckeditor5/src/widget.js"),s=i("ckeditor5/src/typing.js");const l=(e,t)=>{let i;if("/"===e||"<front>"===e)return!1;try{i=new URL(e)}catch(t){if(i=new URL(`https://${e}`),!/https?:\/\/(?:www\.)?[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}/.test(i))return!1}const n=i.hostname;return!t.some((e=>e.startsWith("*.")&&n.endsWith(e.slice(2))||e===n))},o=e=>{try{const t=new URL(e);return("tel:"===t.protocol||"mailto:"===t.protocol)&&t.protocol.replace(":","")}catch(e){return!1}},r={linkIcon:{label:Drupal.t("Icon",{},{context:"CKEditor5 Helfi Link plugin"}),machineName:"icon",selectListOptions:{},type:"select",group:"advanced",isVisible:!1,viewAttribute:"data-hds-icon-start"},linkVariant:{label:Drupal.t("Design"),machineName:"variant",selectListOptions:{link:Drupal.t("Normal link",{},{context:"CKEditor5 Helfi Link plugin"}),primary:Drupal.t("Button primary"),secondary:Drupal.t("Button secondary"),supplementary:Drupal.t("Button supplementary")},type:"select",group:"advanced",isVisible:!0,viewAttribute:"data-hds-variant"},linkButton:{machineName:"data-hds-component",type:"static",viewAttribute:"data-hds-component"},linkProtocol:{label:Drupal.t("Protocol",{},{context:"CKEditor5 Helfi Link plugin"}),machineName:"protocol",selectListOptions:{https:"https://",tel:"tel:",mailto:"mailto:"},type:"select",group:"helper",viewAttribute:"data-protocol",isVisible:!0},linkNewWindowConfirm:{label:Drupal.t("The link meets the accessibility requirements",{},{context:"CKEditor5 Helfi Link plugin"}),description:Drupal.t('I have made sure that the description of this link clearly states that it will open in a new tab. <a href="@wcag-techniques" target="_blank">See WCAG 3.2.5 accessibility requirement (the link opens in a new tab).</a>',{"@wcag-techniques":"https://www.w3.org/WAI/WCAG21/Techniques/general/G200.html"},{context:"CKEditor5 Helfi Link plugin"}),machineName:"link-new-window-confirm",viewAttribute:{target:"_blank"},type:"checkbox",group:"advanced",isVisible:!1},linkNewWindow:{label:Drupal.t("Open in new window/tab",{},{context:"CKEditor5 Helfi Link plugin"}),machineName:"link-new-window",type:"checkbox",group:"advanced",isVisible:!0},linkIsExternal:{machineName:"data-is-external",type:"static",viewAttribute:"data-is-external"}};class a extends e.Plugin{static get requires(){return[t.Widget]}static get pluginName(){return"HelfiLinkEditing"}init(){Object.keys(r).forEach((e=>{r[e].machineName&&(this._convertAttribute(e,r[e].viewAttribute),this._removeAttributeOnUnlinkCommandExecute(e),this._refreshAttributeValue(e))})),this._defineHelfiButtonConverters(),this._addAttributeOnLinkCommandExecute(Object.keys(r))}_convertAttribute(e,t){const{editor:i}=this;if(t)if(i.model.schema.extend("$text",{allowAttributes:e}),i.conversion.for("downcast").attributeToElement({model:e,view:(e,{writer:i})=>{const n={};e&&"object"==typeof t?n[Object.keys(t)]=t[Object.keys(t)]:n[t]=e;const s=i.createAttributeElement("a",n,{priority:5});return i.setCustomProperty("link",!0,s),s}}),"object"==typeof t){const i=Object.keys(t)[0],n=t[Object.keys(t)];this.editor.conversion.for("upcast").attributeToAttribute({view:{name:"a",key:i,value:n},model:{key:e,value:e=>!(!e.hasAttribute(i)||e.getAttribute(i)!==n)}})}else"linkIsExternal"===e||"linkProtocol"===e?i.conversion.for("upcast").elementToAttribute({view:"a",model:{key:e,value:t=>{if(!t.hasAttribute("href"))return null;const i=t.getAttribute("href"),{whiteListedDomains:n}=this.editor.config.get("link");if(!n||!i)return null;const s=l(i,n),r=o(i);return r&&"linkProtocol"===e?r:!(!s||"linkIsExternal"!==e)||null}},converterPriority:"high"}):i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{[t]:!0}},model:{key:e,value:e=>e.getAttribute(t)}})}_removeAttributeOnUnlinkCommandExecute(e){const{editor:t}=this,{model:i}=this.editor,{selection:n}=i.document,l=t.commands.get("unlink");let o=!1;l.on("execute",(l=>{o||(l.stop(),i.change((()=>{o=!0,t.execute("unlink"),o=!1,i.change((t=>{let l;l=n.isCollapsed?[(0,s.findAttributeRange)(n.getFirstPosition(),e,n.getAttribute(e),i)]:i.schema.getValidRanges(n.getRanges(),e),Array.isArray(l)&&l.forEach((i=>t.removeAttribute(e,i)))}))})))}),{priority:"high"})}_refreshAttributeValue(e){const{editor:t}=this,{model:i}=this.editor,{selection:n}=i.document,s=t.commands.get("link");s.set(e,null),i.document.on("change",(()=>{s[e]=n.getAttribute(e)}))}_defineHelfiButtonConverters(){const{editor:e}=this;e.model.schema.isRegistered("tableCell")&&e.model.schema.extend("tableCell",{allowContentOf:"$block"});const t=e=>{const t=e.split(" "),i=t.find((e=>e.startsWith("hds-button--"))),n=t.find((e=>e.endsWith("hds-button")));return i?i.replace("hds-button--",""):n?"primary":null};e.conversion.for("upcast").elementToElement({view:{name:"a"},model:e=>{const t=Array.from(e.getChildren()).find((e=>"span"===e.name&&e.hasClass("hds-button__label")));if(t){const i=Array.from(e.getChildren()),n=i.length;n>0&&e._removeChildren(0,n),i.forEach((t=>{if("span"===t.name&&t.hasClass("hel-icon")){const i=(e=>{let t=!1,i=e.next();for(;!i.done;){const n=i.value;if(n&&n.startsWith("hel-icon--")){t=n.replace("hel-icon--","");break}i=e.next()}return t})(t.getClassNames());i&&e._setAttribute("data-hds-icon-start",i)}})),Array.from(t.getChildren()).forEach((t=>{e._appendChild(t)}))}const i=Array.from(e.getChildren()).find((e=>!(!e.name||"span"!==e.name)&&(!e.getAttribute("dir")&&!e.getAttribute("lang")&&e)));return i&&(e._removeChildren(i.index,1),Array.from(i.getChildren()).forEach((t=>{e._appendChild(t)}))),e.hasAttribute("data-protocol")&&e.getAttribute("data-protocol").startsWith("http")&&e._removeAttribute("data-protocol"),e},converterPriority:"highest"}),e.conversion.for("upcast").attributeToAttribute({view:{name:"a",key:"data-design"},model:{key:"linkVariant",value:e=>{let i;return e.hasClass("hds-button")&&(i=t([...e._classes].join(" ")),i||(i=t(e.getAttribute("data-design")))),i&&"primary"===i&&(i=null),i}}}),e.conversion.for("upcast").attributeToAttribute({view:{name:"a",key:"data-design"},model:{key:"linkButton",value:e=>{let i;return e.hasClass("hds-button")&&(i=t([...e._classes].join(" ")),i||(i=t(e.getAttribute("data-design")))),!!i&&"button"}}}),e.conversion.for("upcast").attributeToAttribute({view:{name:"a",key:"class",value:"hds-button"},model:{key:"linkButton",value:"button"}}),e.conversion.for("upcast").attributeToAttribute({view:{name:"a",key:"data-protocol"},model:{key:"linkProtocol",value:e=>{return"https"!==(t=e.getAttribute("data-protocol"))&&"http"!==t&&t;var t}},converterPriority:"highest"}),e.conversion.for("upcast").attributeToAttribute({view:{name:"a",key:"data-selected-icon"},model:{key:"linkIcon"}})}_addAttributeOnLinkCommandExecute(e){const{editor:t}=this,i=t.commands.get("link");let n=!1;i.on("execute",((i,s)=>{if(s.length<3)return;if(n)return void(n=!1);i.stop(),n=!0;const l=s[s.length-1],{model:o}=t,{selection:r}=o.document;o.change((i=>{t.execute("link",...s),e.forEach((e=>{if(r.isCollapsed){const t=e=>{const t=e.textNode||e.nodeBefore;if(!t){const t=i.createRange(e);return i.setSelection(t),t}return i.createRangeOn(t)};l[e]?i.setAttribute(e,l[e],t(r.getFirstPosition())):i.removeAttribute(e,t(r.getFirstPosition())),i.removeSelectionAttribute(e)}else{const t=o.schema.getValidRanges(r.getRanges(),e);let n=t.next();for(;!n.done;){const s=n.value;l[e]?i.setAttribute(e,l[e],s):i.removeAttribute(e,s),n=t.next()}}}))}))}),{priority:"high"})}}var c=i("ckeditor5/src/ui.js"),d=i("ckeditor5/src/utils.js");class h extends c.View{constructor(e){super(e);const t=this.bindTemplate;this.set("class"),this.set("isVisible",!0),this.set("isChecked",!1),this.set("label"),this.set("description"),this.set("id",null),this.set("tabindex",-1),this.children=this.createCollection(),this.labelView=this._createLabelView(),this.checkboxInputView=this._createCheckboxInputView(),this.checkboxSpanToggle=this._createCheckboxSpanToggleView(),this.bind("isVisible").to(this,"updateVisibility"),this.bind("isChecked").to(this,"updateChecked"),this.setTemplate({tag:"div",attributes:{class:["form-type--checkbox","helfi-link-checkbox",t.if("isVisible","is-hidden",(e=>!e)),t.to("class")]},on:{keydown:t.to((e=>{e.target===this.element&&e.keyCode===(0,d.getCode)("space")&&(this.isChecked=!this.isChecked)}))},children:this.children})}render(){super.render(),this.children.add(this.checkboxInputView),this.children.add(this.checkboxSpanToggle),this.children.add(this.labelView)}focus(){this.element.focus()}_createCheckboxInputView(){const e=new c.View,t=this.bindTemplate;return e.setTemplate({tag:"input",attributes:{type:"checkbox",id:t.to("id"),checked:t.if("isChecked")},on:{change:t.to((e=>{this.isChecked=e.target.checked}))}}),e}_createCheckboxSpanToggleView(){const e=new c.View,t=this.bindTemplate;return e.setTemplate({tag:"span",attributes:{class:["checkbox-toggle"],id:t.to("id")},children:[{tag:"span",attributes:{class:["checkbox-toggle__inner"]}}]}),e}_createLabelView(){const e=new c.View;return e.setTemplate({tag:"label",attributes:{for:this.bindTemplate.to("id")},children:[{text:this.bindTemplate.to("label")}]}),e}updateVisibility(e){e?this.element.classList.remove("is-hidden"):this.element.classList.add("is-hidden")}updateChecked(e){e!==this.isChecked&&this.checkboxInputView?.element?.click()}}class u extends c.View{constructor(e,t){super(e.locale),this.options=t,this.tomSelect=!1,this.linkCommandConfig=e.config.get("link"),this.loadedIcons=this.linkCommandConfig?.loadedIcons,this.set("isVisible",!1),this.bind("isVisible").to(this,"updateVisibility");const i=this.bindTemplate;this.set("isOpen",!1),this.set("label"),this.set("id",null),this.setTemplate({tag:"select",attributes:{id:i.to("id"),class:["ck-helfi-link-select-list"],"data-placeholder":this.options.label,autocomplete:"off"},on:{keydown:i.to((e=>{e.target===this.element&&e.keyCode===(0,d.getCode)("space")&&(this.isOpen=!this.isOpen)}))}})}updateVisibility(e){e?(this.tomSelect?.wrapper?.classList.remove("is-hidden"),this.element.classList.remove("is-hidden")):(this.tomSelect?.wrapper?.classList.add("is-hidden"),this.element.classList.add("is-hidden"))}render(){super.render()}focus(){this.element.focus()}selectListDefaultOptions(){return{valueField:"option",labelField:"name",searchField:"title",maxItems:1,placeholder:this.options.label,create:!1}}}class m extends u{renderTomSelect(e,t){if(!this.tomSelect&&e){const e=super.selectListDefaultOptions(),i=(e,t)=>`\n          <span style="align-items: center; display: flex; height: 100%;">\n            <span class="hel-icon--name" style="margin-left: 8px;">${t(e.title)}</span>\n          </span>\n        `,n={...e,options:Object.keys(t).map((e=>({option:e,title:t[e]}))),render:{option:(e,t)=>i(e,t),item:(e,t)=>i(e,t)}};this.tomSelect=new TomSelect(this.element,n)}}}class p extends c.View{constructor(e,t){super(e),this.advancedChildren=t;const i=this.bindTemplate;this.set("isOpen",!1),this.set("label"),this.set("id",null),this.children=this.createCollection(),this.detailsSummary=this._createDetailsSummary(),this.setTemplate({tag:"details",attributes:{id:i.to("id"),class:["ck-helfi-link-details",i.if("isOpen","ck-is-open",(e=>e))],open:i.if("isOpen")},on:{keydown:i.to((e=>{e.target===this.element&&e.keyCode===(0,d.getCode)("space")&&(this.isOpen=!this.isOpen)}))},children:this.children})}render(){super.render(),this.children.add(this.detailsSummary),this.children.addMany(this.advancedChildren)}focus(){this.element.focus()}_createDetailsSummary(){const e=new c.View;return e.setTemplate({tag:"summary",attributes:{role:"button",class:["ck-helfi-link-details__summary"],tabindex:0},children:[{text:this.bindTemplate.to("label")}]}),e}}class b extends u{renderTomSelect(e,t){if(!this.tomSelect&&e){const e=super.selectListDefaultOptions(),i=(e,t)=>`\n          <span style="align-items: center; display: flex; height: 100%;">\n            <span class="hel-icon--name" style="margin-left: 8px;">${t(e.title)}</span>\n          </span>\n        `,n={...e,plugins:{dropdown_input:{},remove_button:{title:"Remove this item"}},options:Object.keys(t).map((e=>({option:e,title:t[e]}))),render:{option:(e,t)=>i(e,t),item:(e,t)=>i(e,t)}};this.tomSelect=new TomSelect(this.element,n)}}}class k extends u{renderTomSelect(e){if(!this.tomSelect&&e){const e=super.selectListDefaultOptions(),t=(e,t)=>`\n          <span style="align-items: center; display: flex; height: 100%;">\n            <span class="hel-icon hel-icon--${e.icon}" aria-hidden="true"></span>\n            <span class="hel-icon--name" style="margin-left: 8px;">${t(e.name)}</span>\n          </span>\n        `,i={...e,plugins:{dropdown_input:{},remove_button:{title:"Remove this item"}},valueField:"icon",searchField:["name"],options:Object.keys(this.loadedIcons).map((e=>({icon:e,name:this.loadedIcons[e]}))),render:{option:(e,i)=>t(e,i),item:(e,i)=>t(e,i)}};this.tomSelect=new TomSelect(this.element,i)}}}class f extends e.Plugin{constructor(e){super(e),this.editor=e,this.advancedChildren=new d.Collection,this.formElements=r,this.helfiContextualBalloonInitialized=!1}init(){this.editor.plugins.get("LinkUI")._createViews&&this.editor.plugins.get("LinkUI")._createViews(),this._addContextualBalloonClass(),this.editor.plugins.get("ContextualBalloon").on("change:visibleView",((e,t,i,n)=>{const s=this.editor.plugins.get("LinkUI").formView;if(i===n||i!==s||!this.helfiContextualBalloonInitialized)return;const l=Object.keys(this.formElements).reverse();l.forEach((e=>{if(!this.formElements[e].machineName)return;const t=this._createFormField(e,s);this.formElements[e].group&&"advanced"===this.formElements[e].group&&void 0!==t&&this.advancedChildren.add(t)})),this._createAdvancedSettingsAccordion(s),l.forEach((e=>{this.formElements[e].machineName&&this._handleDataLoadingIntoFormField(e,s)})),s.urlInputView.infoText||(s.urlInputView.infoText=Drupal.t("Start typing to find content.",{},{context:"CKEditor5 Helfi Link plugin"})),this._handleCheckboxes(s),this._handleFormFieldSubmit(l)}))}_addContextualBalloonClass(){const{editor:e}=this;e.plugins.get("ContextualBalloon").on("set:visibleView",((t,i,n,s)=>{const l=e.plugins.get("LinkUI").formView;if(n===s||n!==l)return;const o=this.editor.plugins.get("ContextualBalloon");o.hasView(l)&&!o.view.element.classList.contains("helfi-contextual-balloon")&&(l.template.attributes.class.push("helfi-link-form"),l.template.attributes.class.push("ck-reset_all-excluded"),o.remove(n),o.add({view:l,position:o._getBalloonPosition(),balloonClassName:"helfi-contextual-balloon",withArrow:!1}),this.helfiContextualBalloonInitialized=!0)}))}_createSelectList(e,t,i){const{editor:n}=this;let s={};switch(e){case"linkProtocol":s=new m(n,t),i.urlInputView.on("change:isEmpty",((e,t,i)=>{s.updateVisibility(i)}));break;case"linkVariant":s=new b(n,t);break;case"linkIcon":s=new k(n,t),i.linkVariant.on("change:isEmpty",((e,t,i)=>{s.updateVisibility(i)}))}return s.set({isVisible:t.isVisible,id:t.machineName,label:t.label}),s}_createAdvancedSettingsAccordion(e){if(e.advancedSettings)return e.advancedSettings.element.open=!1,e.advancedSettings.detailsSummary.element.ariaExpanded=!1,e.advancedSettings.detailsSummary.element.ariaPressed=!1,e.advancedSettings;const{editor:t}=this,i=new p(t.locale,this.advancedChildren);return i.set({label:Drupal.t("Advanced settings",{},{context:"CKEditor5 Helfi Link plugin"}),id:"advanced-settings",isOpen:!1}),e.children.add(i,2),e.urlInputView.errorText&&(e.urlInputView.errorText=""),e.advancedSettings=i,e.advancedSettings}_createCheckbox(e){const t=new h(this.editor.locale),i=this.formElements[e];return t.set({isVisible:i.isVisible,tooltip:!0,class:"ck-find-checkboxes__box",id:i.machineName,label:i.label}),t}_createFormField(e,t){const{editor:i}=this,n=this.formElements[e],s=i.commands.get("link");if(!t[e]){let l={};switch(n.type){case"select":l=this._createSelectList(e,n,t);break;case"checkbox":l=this._createCheckbox(e);break;case"static":l=!1;break;default:l=new c.LabeledFieldView(i.locale,c.createLabeledInputText)}if(!l)return;return l.machineName=e,l.class=`helfi-link--${n.machineName}`,l.label=n.label,n.description&&(l.infoText=n.description),n.group&&"advanced"===n.group||t.children.add(l,"select"===n.type?0:1),t._focusables.add(l,1),t.focusTracker.add(l.element),t[e]=l,"checkbox"===n.type&&t[e].checkboxInputView.bind("isChecked").to(s,e),"input"===n.type&&t[e].fieldView.bind("value").to(s,e),"linkProtocol"!==e||t.urlInputView.isEmpty||t[e].updateVisibility(!1),t[e]}}_handleDataLoadingIntoFormField(e,t){const{editor:i}=this,n=i.commands.get("link"),s=this.formElements[e];if(void 0!==t[e])switch(s.type){case"static":return;case"checkbox":{const i=!!n.linkNewWindowConfirm;t[e].updateChecked(i),t.linkNewWindowConfirm&&t.linkNewWindowConfirm.updateVisibility(i);break}case"select":t[e].renderTomSelect(t[e].element,s?.selectListOptions),"linkIcon"===e&&t[e].tomSelect.on("initialize",(()=>{t[e].updateVisibility(!1)})),t[e].tomSelect.clear(),n[e]&&t[e].tomSelect.addItem(n[e],!0),"linkProtocol"===e&&t[e].tomSelect.on("item_add",(i=>{t.urlInputView.isEmpty&&(t.urlInputView.fieldView.value=s.selectListOptions[i],t.urlInputView.focus(),t[e].tomSelect.clear())})),"linkVariant"===e&&("button"!==n.linkButton||n[e]&&"primary"!==n[e]||t[e].tomSelect.addItem("primary",!0),n.linkVariant||"button"===n.linkButton||t?.linkIcon.updateVisibility(!1),t[e].tomSelect.on("item_remove",(()=>{t?.linkIcon.tomSelect.clear(),t?.linkIcon.updateVisibility(!1)})),t[e].tomSelect.on("item_add",(e=>{t?.linkIcon.updateVisibility("link"!==e),"link"===e&&t?.linkIcon.tomSelect.clear()})));break;default:t[e].fieldView.element.value=n[e]||""}}_handleCheckboxes(e){if(this.formElements.linkNewWindowConfirm&&this.formElements.linkNewWindow&&e&&e.linkNewWindow&&e.linkNewWindowConfirm&&e.linkNewWindowConfirm.element){if(!e.linkNewWindowConfirm.element.querySelector(".helfi-link-form__field_description")){const t=document.createElement("div");t.innerHTML=this.formElements.linkNewWindowConfirm.description,t.classList.add("helfi-link-form__field_description"),e.linkNewWindowConfirm.element.appendChild(t)}e.linkNewWindow.on("change:isChecked",((t,i,n)=>{e?.linkNewWindowConfirm.updateChecked(!1),e?.linkNewWindowConfirm.updateVisibility(n)}))}}_handleFormFieldSubmit(e){const{editor:t}=this,{selection:i}=t.model.document,n=t.plugins.get("LinkUI").formView,s=t.commands.get("link");this.listenTo(n,"submit",(t=>{n.urlInputView?.fieldView?.element?.value||(n.urlInputView.errorText=Drupal.t("The link URL field cannot be empty.",{},{context:"CKEditor5 Helfi Link plugin"}),t.stop());const{whiteListedDomains:r}=this.editor.config.get("link"),a=n.urlInputView?.fieldView?.element?.value,c=e.reduce(((e,t)=>{switch(t){case"linkVariant":{const i=n?.[t]?.tomSelect.getValue();if(!i||"link"===i)return e;if("primary"===i)return e.linkButton="button",e;e[t]=i,e.linkButton="button";break}case"linkIcon":e[t]=n?.[t]?.tomSelect.getValue();break;case"linkProtocol":if(!r||!a)break;o(a)&&(e[t]=o(a));break;case"linkIsExternal":if(!r||!a)break;if(!o(a)&&l(a,r)){e[t]=l(a,r);break}break;default:e[t]=n?.[t]?.fieldView?.element?.value??""}return"checkbox"===this.formElements[t].type&&(e[t]=n?.[t]?.checkboxInputView?.element?.checked),e}),{});i.isCollapsed&&!n.urlInputView?.fieldView?.element?.value&&c.linkId&&(n.urlInputView.errorText=Drupal.t("When there is no selection, the link URL must be provided. To add a link without a URL, first select text in the editor and then proceed with adding the link.",{},{context:"CKEditor5 Helfi Link plugin"}),t.stop()),c.linkNewWindowConfirm&&c.linkNewWindow||(c.linkNewWindowConfirm=!1,c.linkNewWindow=!1,n.linkNewWindowConfirm.checkboxInputView.element.checked&&n.linkNewWindowConfirm.checkboxInputView.element.click(),n.linkNewWindow.checkboxInputView.element.checked&&n.linkNewWindow.checkboxInputView.element.click()),s.once("execute",((e,t)=>{if(t.length<3)t.push(c);else{if(3!==t.length)throw Error("The link command has more than 3 arguments.");Object.assign(t[2],c)}}),{priority:"highest"})}),{priority:"high"})}}class g extends e.Plugin{static get requires(){return[a,f]}}const w={HelfiLink:g}})(),n=n.default})()));