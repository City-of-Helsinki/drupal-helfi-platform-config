(()=>{var e=Object.defineProperty;var t=(t,n)=>e(t,"name",{value:n,configurable:true});((Drupal,e)=>{Drupal.HeaderAnchorButtons={rgbToHex:t(e=>{const t=e.match(/\d+/g);return t?`#${(+t[0]).toString(16).padStart(2,"0")}${(+t[1]).toString(16).padStart(2,"0")}${(+t[2]).toString(16).padStart(2,"0")}`:null},"rgbToHex"),injectHeaderAnchorButtons:t(e=>{const t=e.textContent.trim();const n=document.createElement("span");n.classList.add("header-text");const o=Array.from(e.childNodes).filter(e=>e.nodeType===Node.TEXT_NODE&&e.textContent.trim().length>0);o.forEach(e=>n.appendChild(e));if(e.firstChild){e.insertBefore(n,e.firstChild)}else{e.appendChild(n)}const a=window.getComputedStyle(e);const r=document.createElement("button");r.classList.add("header-anchor-button");if(Drupal.HeaderAnchorButtons.rgbToHex(a.color)==="#ffffff"){r.classList.add("header-anchor-button--white")}r.setAttribute("aria-label",Drupal.t("Copy link to header @name.",{"@name":t},{context:"Anchor link"}));const i=document.createElement("div");i.classList.add("header-anchor-button__live-region");i.classList.add("visually-hidden");i.setAttribute("aria-live","polite");i.setAttribute("aria-atomic","true");r.addEventListener("click",()=>{const n=`${window.location.origin}${window.location.pathname}#${e.id}`;navigator.clipboard.writeText(n).then(()=>{r.classList.add("header-anchor-button--success");e.appendChild(i);i.textContent=Drupal.t("Link to header @name copied.",{"@name":t},{context:"Anchor link"});setTimeout(()=>e.removeChild(i),3e3);setTimeout(()=>r.classList.remove("header-anchor-button--success"),3e3)}).catch(n=>{r.classList.add("header-anchor-button--error");e.appendChild(i);i.textContent=Drupal.t("Failed to copy link header @name.",{"@name":t},{context:"Anchor link"});setTimeout(()=>e.removeChild(i),3e3);setTimeout(()=>r.classList.remove("header-anchor-button--error"),3e3);console.error("Failed to copy:",n)})});const d=e.nodeName.toLowerCase();if(d==="h2"&&!e.hasAttribute("data-accordion-id")){e.classList.add("js-header-with-anchor");e.appendChild(r)}},"injectHeaderAnchorButtons")};Drupal.behaviors.headerAnchorButtons={attach:t(function t(){Drupal.HeaderIdInjector.injectedHeadings.forEach(({content:t})=>{e("header-anchor-button",t).forEach(()=>{Drupal.HeaderAnchorButtons.injectHeaderAnchorButtons(t)})})},"attach")}})(Drupal,once)})();