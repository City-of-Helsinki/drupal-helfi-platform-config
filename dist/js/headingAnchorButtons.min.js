(()=>{var t=Object.defineProperty;var e=(e,n)=>t(e,"name",{value:n,configurable:true});((Drupal,t)=>{Drupal.HeadingAnchorButtons={rgbToHex:e(t=>{const e=t.match(/\d+/g);return e?`#${(+e[0]).toString(16).padStart(2,"0")}${(+e[1]).toString(16).padStart(2,"0")}${(+e[2]).toString(16).padStart(2,"0")}`:null},"rgbToHex"),injectHeadingAnchorButtons:e(t=>{const e=t.textContent.trim();const n=document.createElement("span");n.classList.add("heading-text");const o=Array.from(t.childNodes).filter(t=>t.nodeType===Node.TEXT_NODE&&t.textContent.trim().length>0);o.forEach(t=>n.appendChild(t));if(t.firstChild){t.insertBefore(n,t.firstChild)}else{t.appendChild(n)}const a=window.getComputedStyle(t);const i=document.createElement("button");i.classList.add("heading-anchor-button");if(Drupal.HeadingAnchorButtons.rgbToHex(a.color)==="#ffffff"){i.classList.add("heading-anchor-button--white")}i.setAttribute("aria-label",Drupal.t("Copy link to heading @name.",{"@name":e},{context:"Anchor link"}));const r=document.createElement("div");r.classList.add("heading-anchor-button__live-region");r.classList.add("visually-hidden");r.setAttribute("aria-live","polite");r.setAttribute("aria-atomic","true");i.addEventListener("click",()=>{const n=`${window.location.origin}${window.location.pathname}#${t.id}`;navigator.clipboard.writeText(n).then(()=>{i.classList.add("heading-anchor-button--success");t.appendChild(r);r.textContent=Drupal.t("Link to heading @name copied.",{"@name":e},{context:"Anchor link"});setTimeout(()=>t.removeChild(r),7e3);setTimeout(()=>i.classList.remove("heading-anchor-button--success"),3e3)}).catch(n=>{i.classList.add("heading-anchor-button--error");t.appendChild(r);r.textContent=Drupal.t("Failed to copy link heading @name.",{"@name":e},{context:"Anchor link"});setTimeout(()=>t.removeChild(r),7e3);setTimeout(()=>i.classList.remove("heading-anchor-button--error"),3e3);console.error("Failed to copy:",n)})});const d=t.nodeName.toLowerCase();if(d==="h2"&&!t.hasAttribute("data-accordion-id")){t.classList.add("js-heading-with-anchor");t.appendChild(i)}},"injectHeadingAnchorButtons")};Drupal.behaviors.headingAnchorButtons={attach:e(function e(){Drupal.HeadingIdInjector.injectedHeadings.forEach(({content:e})=>{t("heading-anchor-button",e).forEach(()=>{Drupal.HeadingAnchorButtons.injectHeadingAnchorButtons(e)})})},"attach")}})(Drupal,once)})();